# WARNING: This file is auto-generated. Do not edit! All your modification will be overwritten!
# You can use 'tiup cluster edit-config' and 'tiup cluster reload' to update the configuration
# All configuration items you want to change can be added to:
# server_configs:
#   tiflash:
#     aa.b1.c3: value
#     aa.b2.c4: value
default_profile = "default"
display_name = "TiFlash"
listen_host = "0.0.0.0"
mark_cache_size = 5368709120
path = "/tiflash/data"
tmp_path = "/tiflash/data/tmp"

[cluster]
cluster_id = "%v"

[flash]
service_addr = "%v:3930"
disaggregated_mode = "tiflash_compute"
use_autoscaler = true
use_autoscaler_without_s3 = true
%v
[flash.flash_cluster]
cluster_manager_path = "/tiflash/bin/flash_cluster_manager"
log = "/tiflash/log/tiflash_cluster_manager.log"
master_ttl = 60
refresh_interval = 20
update_rule_interval = 5
[flash.proxy]
config = "/tiflash/conf/tiflash-learner.toml"

[logger]
count = 20
errorlog = "/tiflash/log/tiflash_error.log"
level = "debug"
log = "/tiflash/log/tiflash.log"
size = "1000M"

[profiles]
[profiles.default]
max_memory_usage = 0
max_memory_usage_for_all_queries = 0.9
task_scheduler_thread_soft_limit = 0
task_scheduler_thread_hard_limit = 0

[raft]
pd_addr = "%v"

[status]
metrics_port = 8234

[storage]
  [storage.main]
    dir = ["%v"]
  [storage.remote.cache]
    dir = "%v"
    capacity = %v
